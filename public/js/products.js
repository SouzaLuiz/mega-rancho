(function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:d})},b.r=function(a){'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(a,'__esModule',{value:!0})},b.t=function(a,c){if(1&c&&(a=b(a)),8&c)return a;if(4&c&&'object'==typeof a&&a&&a.__esModule)return a;var d=Object.create(null);if(b.r(d),Object.defineProperty(d,'default',{enumerable:!0,value:a}),2&c&&'string'!=typeof a)for(var e in a)b.d(d,e,function(b){return a[b]}.bind(null,e));return d},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s='./products.js')})({"./products.js":function(){function a(a){return e(a)||d(a)||c(a)||b()}function b(){throw new TypeError('Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.')}function c(a,b){if(a){if('string'==typeof a)return f(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);return'Object'===c&&a.constructor&&(c=a.constructor.name),'Map'===c||'Set'===c?Array.from(a):'Arguments'===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?f(a,b):void 0}}function d(a){if('undefined'!=typeof Symbol&&Symbol.iterator in Object(a))return Array.from(a)}function e(a){if(Array.isArray(a))return f(a)}function f(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function g(b){b.forEach(function(b){var c=b.querySelector('.product__quantity .any__less'),d=b.querySelector('.product__quantity .more'),e=b.querySelector('.product__quantity .quantity__value'),f=b.querySelector('#add__product__to__cart');c.addEventListener('click',function(){var a=+e.innerHTML;1<a&&(e.innerHTML=a-1)}),d.addEventListener('click',function(){var a=+e.innerHTML;e.innerHTML=a+1}),f.addEventListener('click',function(){var c=document.querySelector('#cart-quantity'),d=document.querySelector('#cart-total-price'),f=b.querySelector('input[name=product-id]').value,g=b.querySelector('.product__item__text h6 a').innerHTML,h=+b.querySelector('.product__item__text h5 span').innerHTML,i=b.querySelector('.product__item .product__item__pic img').getAttribute('src'),j=+e.innerHTML,k=+c.innerHTML,l=+d.innerHTML,m=JSON.parse(localStorage.getItem('cart'))||[],n=!1,o=m.map(function(a){return a.id==f&&(n=!0,a.quantity+=j),a}),p=+(h*j).toFixed(2);if(n)localStorage.setItem('cart',JSON.stringify(o)),d.innerHTML=(l+p).toFixed(2),e.innerHTML=1;else{var q=[].concat(a(m),[{id:f,name:g,price:h,image:i,quantity:j}]);localStorage.setItem('cart',JSON.stringify(q)),c.innerHTML=k+1,d.innerHTML=(l+p).toFixed(2),e.innerHTML=1}})})}function h(a){a.forEach(function(a){document.querySelector('#list-products').innerHTML+='\n      <div class="product__item">\n        <input type="hidden" name="product-id" value="'.concat(a.id,'">\n        <div class="product__item__pic">\n          <img src="/uploads/').concat(a.image,'" />\n        </div>\n        <div class="product__item__text">\n          <h6>\n            <a href="#">').concat(a.name,'</a>\n          </h6>\n          <h5>R$ <span>').concat(a.price.toFixed(2),'</span></h5>\n        </div>\n        <div class="product__quantity">\n          <button class="any__less action-btn">-</button>\n          <span class="quantity__value">1</span>\n          <button class="more action-btn">+</button>\n        </div>\n        <button class="button__black" id="add__product__to__cart">ADICIONAR</button>\n      </div>\n    ')})}var i=document.querySelectorAll('.product__item');g(i),window.moreProducts=function(){var a=+document.querySelector('#btn-more').getAttribute('name'),b=+document.querySelector('input[name=total-pages]').value;fetch('/products?page='.concat(a)).then(function(c){c.json().then(function(c){a<=b&&(a==b?document.querySelector('#btn-more').classList.toggle('hide'):document.querySelector('#btn-more').setAttribute('name',a+1)),h(c);var d=document.querySelectorAll('.product__item');g(d)})['catch'](function(){alert('Erro ao buscar mais produtos')})})}}});
//# sourceMappingURL=products.js.map